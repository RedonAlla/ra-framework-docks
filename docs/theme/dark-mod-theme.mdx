---
id: ra-theme-dark-mod-theme
sidebar_position: 4
last_update:
  date: 2024-09-24
  author: Redon Alla
tags: [react, react-native, expo, framework, component]
---

# Dark Mod Theme

To support dark mode you must extend **[ThemeProvider](/docs/getting-gtarted/setup-ra-theme-provider#using-themeprovider)** and implement `onAppearanceChange` method or you can create you own *ThemeContext*.

Below example shows how to extend ThemeProvider and implement setColorScheme method to support to dark mode.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="colors-file" label="colors">

```jsx title="/src/theme/colors.ts" showLineNumbers
import { ColorValue } from 'react-native';
// highlight-start
import { dark, light, BaseTheme } from '@ra/theme-context';
// highlight-end

export interface MyColorsColors extends BaseTheme {
  color1: ColorValue,
  color2: ColorValue
};

export const lightTheme: MyColorsColors = {
  ...light,
  color1: '#C51162',
  color2: '#7B1FA2',
}

export const darkTheme: MyColorsColors = {
  ...dark,
  color1: '#C51162',
  color2: '#7B1FA2',
}
```

</TabItem>
<TabItem value="themprovider-file" label="MyThemeProvider">

```jsx title="/src/theme/MyThemeProvider.tsx" showLineNumbers
import React from 'react';
import { ColorSchemeName, Appearance } from 'react-native';

// highlight-start
import { ThemeProvider, BaseTheme } from '@ra/theme-context';
// highlight-end
import { darkTheme, lightTheme, MyColorsColors } from './colors';


export default class MyThemeProvider extends ThemeProvider<MyColorsColors> {
  async componentDidMount() {
    const appThemeStorage = {
      colors: this.props.colors,
      colorScheme: Appearance.getColorScheme()
    }; // Your default theme or read it from your storage.

    Appearance.addChangeListener(this.onAppearanceChange);
    this.setState({
      colors: appThemeStorage.colors!,
      colorScheme: appThemeStorage.colorScheme
    });
  }

  onAppearanceChange = (colorScheme: Appearance.AppearancePreferences) => {
    if(this.state.colorScheme === null)
      this.setState({ ...this.state });
  }

  onChangeTheme = async (theme: MyColorsColors): Promise<void> => {
    throw new Error('Method not implemented. See Multiple Theme section');
  }

  onChangeColorSchemeTheme = async (colorScheme: ColorSchemeName): Promise<void>  => {
    if(colorScheme === null || colorScheme === undefined) {
      const deviceSchema = Appearance.getColorScheme();

      this.setState({
        colorScheme: deviceSchema,
        colors: deviceSchema === 'light' ? lightTheme : darkTheme,
      });

      // highlight-start
      //Do what ever you want. ex save on db or in local storage.
      // highlight-end
      return;
    }

    // highlight-start
    //Do what ever you want. ex save on db or in local storage.
    // highlight-end

    this.setState({
      colorScheme: colorScheme,
      colors: colorScheme === 'light' ? lightTheme : darkTheme,
    });
  }
}
```
</TabItem>

<TabItem value="theme-settings-file" label="ThemeSettings">

```jsx title="/src/screens/ThemeSettings.tsx" showLineNumbers
import React from 'react';
import { StyleSheet, ColorSchemeName, Pressable, View, Text, ColorValue } from 'react-native';

// highlight-start
import { useThemeContext } from '@ra/theme-context';
// highlight-end

type BtnToggleProps = {
  title: string,
  textColor: ColorValue,
  borderColor: ColorValue,
  backgroundColor: ColorValue,
  colorScheme: ColorSchemeName,
}

const BtnToggle = React.memo((props: BtnToggleProps) => {
  const theme = useThemeContext();

  const onChangeColorSchemeTheme = async (): Promise<void>  => {
    await theme.setColorScheme!(props.colorScheme)
  };

  return (
    <Pressable onPress={onChangeColorSchemeTheme}
        style={[styles.btn, {backgroundColor: props.backgroundColor, borderColor: props.borderColor}]}>
      <Text style={{fontSize: 18, color: props.textColor}}>
        {props.title}
      </Text>
    </Pressable>
  );
});

export default React.memo(() => {
  const theme = useThemeContext();

  return (
    <View style={[styles.container, {backgroundColor: theme.colors.background}]}>
      <Text style={[styles.title, {color: theme.colors.text}]}>Theme Settings</Text>
      <BtnToggle title='Light'
                borderColor={theme.colors.border}
                backgroundColor={theme.colors.light}
                textColor='black'
                colorScheme='light' />
      <BtnToggle title='Dark'
                borderColor={theme.colors.border}
                backgroundColor={theme.colors.dark}
                textColor="white"
                colorScheme='dark' />
      <BtnToggle title='Automatic'
                borderColor={theme.colors.border}
                backgroundColor={theme.colors.light}
                textColor='black'
                colorScheme={null} />
    </View>
  );
});


const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 15
  },
  title: {
    fontSize: 32,
    fontWeight: 'bold',
    paddingVertical: 18
  },
  btn: {
    width: '100%',
    borderStyle: 'solid',
    borderWidth: 1,
    paddingVertical: 15,
    alignItems: 'center',
    justifyContent: 'center',
    marginVertical: 15
  }
});
```

</TabItem>

<TabItem value="app-file" label="App">

```jsx title="/App.ts" showLineNumbers
import React from 'react';

import ThemeSettings from './src/screens/ThemeSettings.tsx';
import MyThemeProvider from './src/theme/MyThemeProvider.tsx';


export default function App() {
  return (
    <MyThemeProvider>
      <ThemeSettings />
    </MyThemeProvider>
  );
}
```

</TabItem>
</Tabs>